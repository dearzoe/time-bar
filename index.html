<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>time-bar</title>
    <style>
        ul,li{
            list-style: none;
        }
        .timeBar li{
            text-align: center;
            border: 1px solid red;
            width: 25px;
            height: 20px;
            background: #eee;
            color: #fff;
            float: left;
            border-left:0px;
            user-select: none;
        }
        .timeBar li:nth-child(1){
            border: 1px solid red;
            border-radius:3px 0 0 3px;
        }
        .timeBar li:nth-child(24){
            border-radius:0 3px 3px 0;
        }
    </style>
</head>
<body>
<ul class="timeBar" id="timeBarHour">
    <li>1</li>
    <li>2</li>
    <li>3</li>
    <li>4</li>
    <li>5</li>
    <li>6</li>
    <li>7</li>
    <li>8</li>
    <li>9</li>
    <li>10</li>
    <li>11</li>
    <li>12</li>
    <li>13</li>
    <li>14</li>
    <li>15</li>
    <li>16</li>
    <li>17</li>
    <li>18</li>
    <li>19</li>
    <li>20</li>
    <li>21</li>
    <li>22</li>
    <li>23</li>
    <li>24</li>
</ul>
<ul class="timeBar" id="timeBarDay">
    <li>1</li>
    <li>2</li>
    <li>3</li>
    <li>4</li>
    <li>5</li>
    <li>6</li>
    <li>7</li>
</ul>
<button id="button">获取时间</button>
</body>
<script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
<script>
    $(function(){
    	var flagHour;
    	var flagDay;
    	//小时
		$("#timeBarHour li").on("click",function(e){
			if($(this).attr("timeBar") == "true"){
				$(this).css("background-color","#eee");
				$(this).removeAttr("timeBar");
            }else{
				$(this).css("background-color","red");
				$(this).attr("timeBar",true);
            }
			if(flagHour){
				mouseOverOffHour()
            }else{
				mouseOverOnHour();
            }
		});
		function mouseOverOnHour(){
			$("#timeBarHour li").on("mouseenter",function(){
				if($(this).attr("timeBar") == "true"){
					$(this).css("background-color","#eee");
					$(this).removeAttr("timeBar");
				}else{
					$(this).css("background-color","red");
					$(this).attr("timeBar",true);
				}

			});
			flagHour = true;
		}
		function mouseOverOffHour(){
			$("#timeBarHour li").off("mouseenter");
			flagHour = false;
		}
		$("#timeBarHour").on("mouseleave",function(){
			mouseOverOffHour()
        })
        //天
		$("#timeBarDay li").on("click",function(e){
			if($(this).attr("timeBar") == "true"){
				$(this).css("background-color","#eee");
				$(this).removeAttr("timeBar");
			}else{
				$(this).css("background-color","red");
				$(this).attr("timeBar",true);
			}
			if(flagDay){
				mouseOverOffDay()
			}else{
				mouseOverOnDay();
			}
		});
		function mouseOverOnDay(){
			$("#timeBarDay li").on("mouseenter",function(){
				if($(this).attr("timeBar") == "true"){
					$(this).css("background-color","#eee");
					$(this).removeAttr("timeBar");
				}else{
					$(this).css("background-color","red");
					$(this).attr("timeBar",true);
				}

			});
			flagDay = true;
		}
		function mouseOverOffDay(){
			$("#timeBarDay li").off("mouseenter");
			flagDay = false;
		}
		$("#timeBarDay").on("mouseleave",function(){
			mouseOverOffDay()
		})
        //获取时间
        $("button").on("click",function(){
        	var workhours = "";
        	var workdays = "";
           $("#timeBarHour li").each(function(index,value){
           	if($(this).attr("timeBar")){
				workhours+= index+1 +",";
            }else{
				workhours+= "" +",";
            }
           });
			$("#timeBarDay li").each(function(index,value){
				if($(this).attr("timeBar")){
					workdays+= index+1 +",";
				}else{
					workdays+= "" +",";
				}
			});
			console.log(workhours);
			console.log(workdays);
        })
    });

</script>
</html>